<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Teacher Dashboard | PeerReview+</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    body { background: #f4f6f9; }
    .sidebar {
      background: #203354;
      height: 100vh;
      padding: 30px 20px;
      color: white;
      min-width: 250px;
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
    }
    .sidebar h4 { margin-bottom: 40px; color: #a8dadc; font-weight: 700; }
    .nav-link { color: white !important; padding: 10px 15px; border-radius: 6px;}
    .nav-link:hover { background: #3c5478; color: #a8dadc !important;}
    .content { padding: 40px; }
    .card {
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      border: none;
      transition: transform 0.2s;
    }
    .card:hover {
        transform: translateY(-3px);
    }
  </style>
</head>
<body>
  <div class="d-flex">
    <div class="sidebar">
      <h4><i class="fas fa-chalkboard-teacher me-2"></i> Teacher Panel</h4>
      <ul class="nav flex-column">
        <li class="nav-item mb-2"><a href="#" class="nav-link"><i class="fas fa-tasks me-2"></i> Assignments</a></li>
        <li class="nav-item mb-2"><a href="#" class="nav-link"><i class="fas fa-users me-2"></i> Groups</a></li>
        <li class="nav-item mb-2"><a href="#" class="nav-link"><i class="fas fa-chart-line me-2"></i> Reports</a></li>
        <li class="nav-item mt-4"><a href="index.html" class="nav-link"><i class="fas fa-sign-out-alt me-2"></i> Logout</a></li>
      </ul>
    </div>

    <div class="content w-100">
      <h2 class="fw-bold mb-5 text-dark">Welcome, Teacher</h2>
      
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card p-4 bg-light">
            <h5 class="card-title text-danger fw-bold mb-3"><i class="fas fa-user-switch me-2"></i> Switch to Student View</h5>
            <div id="switch-alert" class="alert alert-danger d-none" role="alert"></div>
            <input type="text" id="student_id_input" class="form-control mb-3" placeholder="Enter 8-Digit Student ID (e.g., 00012345)">
            <button class="btn btn-danger fw-bold" onclick="switchToStudentView()"><i class="fas fa-eye me-2"></i> View Student Dashboard</button>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card p-4">
            <h5 class="card-title text-primary fw-bold mb-3">Create New Assignment</h5>
            <input type="text" class="form-control mb-3" placeholder="Assignment Title">
            <button class="btn btn-primary fw-bold"><i class="fas fa-plus-circle me-2"></i> Create</button>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card p-4">
            <h5 class="card-title text-success fw-bold mb-3">Ongoing Assignments</h5>
            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex justify-content-between align-items-center">
                  Project 1
                  <span class="badge bg-info text-dark">Group A</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center">
                  Essay Review
                  <span class="badge bg-info text-dark">Group B</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center">
                  Research Draft
                  <span class="badge bg-info text-dark">Group C</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Mock List of valid 8-digit Student IDs
    const VALID_STUDENT_IDS = ["00012345", "00054321", "00000001", "12345678"];

    function switchToStudentView() {
      const studentID = document.getElementById("student_id_input").value.trim();
      const alertBox = document.getElementById("switch-alert");

      alertBox.classList.add('d-none');

      // Validation
      if (studentID.length !== 8 || isNaN(studentID)) {
        alertBox.textContent = "Invalid ID format. Please enter an 8-digit number.";
        alertBox.classList.remove('d-none');
        return;
      }

      // Mock lookup (In a real app, this would query a database)
      if (VALID_STUDENT_IDS.includes(studentID)) {
        // Successful switch - redirect to the student dashboard
        // Note: The student page will display generic data unless you pass the ID as a parameter (e.g., student.html?id=...)
        window.location.href = "student.html?viewed_id=" + studentID; 
      } else {
        alertBox.textContent = "Student ID not found.";
        alertBox.classList.remove('d-none');
      }
    }
  </script>
</body>
</html>
